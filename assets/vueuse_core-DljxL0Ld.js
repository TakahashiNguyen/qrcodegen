import{t as C,a as R,b as M,n as W,w as k,i as B,c as L}from"./vueuse_shared-198Hpf5H.js";import{k as p,n as b,u as F}from"./vue_reactivity-BF73Jxev.js";import{w as E,b as g,o as I,g as j}from"./vue_runtime-core-QZW3MpVm.js";const z=B?window:void 0;function w(t){var s;const a=b(t);return(s=a?.$el)!=null?s:a}function x(...t){const s=[],a=()=>{s.forEach(e=>e()),s.length=0},c=(e,n,o,i)=>(e.addEventListener(n,o,i),()=>e.removeEventListener(n,o,i)),v=g(()=>{const e=M(b(t[0])).filter(n=>n!=null);return e.every(n=>typeof n!="string")?e:void 0}),u=k(()=>{var e,n;return[(n=(e=v.value)==null?void 0:e.map(o=>w(o)))!=null?n:[z].filter(o=>o!=null),M(b(v.value?t[1]:t[0])),M(F(v.value?t[2]:t[1])),b(v.value?t[3]:t[2])]},([e,n,o,i])=>{if(a(),!e?.length||!n?.length||!o?.length)return;const l=L(i)?{...i}:i;s.push(...e.flatMap(r=>n.flatMap(d=>o.map(y=>c(r,d,y,l)))))},{flush:"post"}),f=()=>{u(),a()};return R(a),f}function q(){const t=p(!1),s=j();return s&&I(()=>{t.value=!0},s),t}function A(t){const s=q();return g(()=>(s.value,!!t()))}function D(t,s,a={}){const{window:c=z,...v}=a;let u;const f=A(()=>c&&"MutationObserver"in c),e=()=>{u&&(u.disconnect(),u=void 0)},n=g(()=>{const r=b(t),d=M(r).map(w).filter(W);return new Set(d)}),o=E(n,r=>{e(),f.value&&r.size&&(u=new MutationObserver(s),r.forEach(d=>u.observe(d,v)))},{immediate:!0,flush:"post"}),i=()=>u?.takeRecords(),l=()=>{o(),e()};return R(l),{isSupported:f,stop:l,takeRecords:i}}function N(t,s,a={}){const{window:c=z,...v}=a;let u;const f=A(()=>c&&"ResizeObserver"in c),e=()=>{u&&(u.disconnect(),u=void 0)},n=g(()=>{const l=b(t);return Array.isArray(l)?l.map(r=>w(r)):[w(l)]}),o=E(n,l=>{if(e(),f.value&&c){u=new ResizeObserver(s);for(const r of l)r&&u.observe(r,v)}},{immediate:!0,flush:"post"}),i=()=>{e(),o()};return R(i),{isSupported:f,stop:i}}function $(t,s={}){const{reset:a=!0,windowResize:c=!0,windowScroll:v=!0,immediate:u=!0,updateTiming:f="sync"}=s,e=p(0),n=p(0),o=p(0),i=p(0),l=p(0),r=p(0),d=p(0),y=p(0);function S(){const O=w(t);if(!O){a&&(e.value=0,n.value=0,o.value=0,i.value=0,l.value=0,r.value=0,d.value=0,y.value=0);return}const m=O.getBoundingClientRect();e.value=m.height,n.value=m.bottom,o.value=m.left,i.value=m.right,l.value=m.top,r.value=m.width,d.value=m.x,y.value=m.y}function h(){f==="sync"?S():f==="next-frame"&&requestAnimationFrame(()=>S())}return N(t,h),E(()=>w(t),O=>!O&&h()),D(t,h,{attributeFilter:["style","class"]}),v&&x("scroll",h,{capture:!0,passive:!0}),c&&x("resize",h,{passive:!0}),C(()=>{u&&h()}),{height:e,bottom:n,left:o,right:i,top:l,width:r,x:d,y,update:h}}export{$ as u};
