import{w as I,v as Q,c as U}from"./vue_runtime-dom-DgYGFpXt.js";import{i as W,C as G}from"./flowbite-BK3zwtRc.js";import{R as K,c as X,a as Y}from"./vue-router-C8TyiZc_.js";import{d as g,o as F,e as z,f as i,j as u,k as s,l as f,m as y,r as H,q as N,s as $,t as E,h as J,b as B,w as Z,u as ee,v as te,x as oe,y as ne}from"./vue_runtime-core-QZW3MpVm.js";import{u as j,l as m,g as re}from"./vue_reactivity-BF73Jxev.js";import{p as v,K as se,q as le,L as A}from"./vue_shared-C7soI7TJ.js";import{u as ie}from"./vueuse_core-DljxL0Ld.js";import{Q as ae}from"./qrcode-9ot_T-Z6.js";import"./popperjs_core-DC5wud4b.js";import"./flowbite-datepicker-BdtIV8Rz.js";import"./vueuse_shared-198Hpf5H.js";import"./dijkstrajs-B-FHFk8B.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const ue=g({__name:"App",setup(t){return F(()=>{W()}),(e,o)=>(i(),z(j(K)))}}),T=(t,e)=>{const o=t.__vccOpts||t;for(const[l,r]of e)o[l]=r;return o},de={},ce={class:"center h-dvh w-dvw font-mono"},fe={class:"bg--0 flex flex-col items-center rounded-3xl p-10"};function pe(t,e){const o=H("router-link");return i(),u("div",ce,[s("div",fe,[e[1]||(e[1]=s("h1",{class:"text-9xl"},"Xin chào",-1)),f(o,{class:"link w-fit font-sans",to:"/qr-contact"},{default:y(()=>[...e[0]||(e[0]=[N("Tạo mã QR lưu danh bạ",-1)])]),_:1})])])}const me=T(de,[["render",pe]]),he={},ge={class:"center h-dvh w-dvw font-mono"},ye={class:"bg--0 flex flex-row items-center rounded-3xl p-10"},ve={class:"flex flex-col"};function be(t,e){const o=H("router-link");return i(),u("div",ge,[s("div",ye,[e[2]||(e[2]=s("h1",{class:"text-9xl"},"404!",-1)),s("div",ve,[e[1]||(e[1]=s("a",null,"Trang này chưa tồn tại hoặc có thể đã bị xóa.",-1)),f(o,{class:"link w-fit font-sans",to:"/"},{default:y(()=>[...e[0]||(e[0]=[N("Về trang chủ",-1)])]),_:1})])])])}const we=T(he,[["render",be]]),xe={class:"p-1"},_e=["type"],D=g({__name:"Button",props:{type:{type:String,default:"button"},theme:{type:String,default:"primary"},buttonRef:{type:Function,required:!1},to:{type:String,required:!1}},setup(t){return(e,o)=>(i(),u("div",xe,[t.type!=="link"?(i(),u("button",{key:0,title:"",ref:t.buttonRef,type:t.type,class:v(["w-full rounded-lg px-5 py-2.5 text-center text-sm font-medium",{"text--primary bg--primary hover:text--secondary hover:bg--secondary":t.theme=="primary","text--tertiary hover:bg--tertiary hover:-text--2":t.theme=="secondary"}])},[E(e.$slots,"default")],10,_e)):$("",!0),t.type==="link"?(i(),u("a",{key:1,class:"link",href:"#",onClick:o[0]||(o[0]=l=>t.to?e.$router.push({name:t.to}):"")},[E(e.$slots,"default")])):$("",!0)]))}});function M(t){return e=>{t.value=e}}function ke(){return new Promise(t=>{document.readyState==="complete"?t():window.addEventListener("load",()=>t(),{once:!0})})}function O(t){return new Promise(e=>setTimeout(e,t))}function P(t){const e=[];for(const o of t)if(o.key==="_content"&&o.children&&Array.isArray(o.children))e.push(...P(o.children));else{const l={...o};o.children&&Array.isArray(o.children)&&(l.children=P(o.children)),e.push(l)}return e}const $e=g({inheritAttrs:!1,setup({},{slots:t,attrs:e}){return()=>P(t.default?.()).map(o=>J("div",{class:["bg--0","h-fit","flex",e.class]},[o]))}}),Ce=g({__name:"LoadingDiv",setup(t,{expose:e}){const o=m(!1);function l(){o.value=!o.value}return e({toggleHidden:l}),(r,n)=>(i(),u("div",{class:v(["h-full w-full bg-white dark:bg-black",{hidden:o.value}])},[...n[0]||(n[0]=[s("div",{class:"h-full w-full animate-pulse bg-black/10 dark:bg-white/10"},null,-1)])],2))}}),Ee={key:0,class:"[&>*]:z-[45]"},Ne={key:1,class:"[&>*]:absolute [&>*]:z-[45]"},Ve=g({__name:"Carousel",props:{isCycle:{type:Boolean,default:!1},overflowing:{type:Boolean,default:!1},duration:{type:Number,default:500},cycleDuration:{type:Number,default:3e3},indicator:{type:Object,default:{activeClasses:"bg-white dark:bg-white/80",inactiveClasses:"bg-white/50 dark:bg-white/40 hover:bg-white/90 dark:hover:bg-white/70"}},indicatorsLocation:{type:[String,Object,Array],default:"bottom-5 left-1/2 -translate-x-1/2"}},setup(t){const e=m(),o=m(),l=m(),r=m(),n=m(),a=M(r),b=M(n),w=m(),x=m(0),C=m(),_=B(()=>x.value==1),k=B(()=>x.value==o.value?.childElementCount),p=t;class V extends G{async _rotate(d){Object.values(d).forEach(S=>{S.el.classList.remove("hidden")}),await O(1),super._rotate(d),x.value=d.middle.position+1,C.value=d.middle.el,await O(p.duration),d.left.el.classList.add("hidden"),d.right.el.classList.add("hidden")}}return F(async()=>{const h=Array.from(o.value.children).map((c,q)=>({position:q,el:c})),d=h.map(()=>{const c=document.createElement("button");return c.className="h-3 w-3 rounded-full",c.type="button",c.title="",l.value?.append(c),c}),S={defaultPosition:0,interval:p.cycleDuration,indicators:{...p.indicator,items:Array.from(d).map((c,q)=>({position:q,el:c}))}};Z(ie(C).height,c=>{e.value.style.height=o.value.style.height=c.toString()+"px"}),await ke();const L=new V(e.value,h,S,{});p.isCycle&&L.cycle(),n.value?.addEventListener("click",()=>{(!_.value||p.overflowing||p.isCycle)&&L.prev()}),r.value?.addEventListener("click",()=>{(!k.value||p.overflowing||p.isCycle)&&L.next()}),w.value?.toggleHidden()}),(h,d)=>(i(),u("div",{ref_key:"carouselElement",ref:e,class:"relative w-full",style:le({"--duration":t.duration+"ms"})},[f(Ce,{ref_key:"loadingDiv",ref:w,class:"absolute z-40"},null,512),s("div",{ref_key:"carouselWrapper",ref:o,class:"[&>*]:absolute! [&>*]:duration-(--duration) relative h-56 overflow-hidden [&>*]:w-full [&>*]:ease-in-out"},[f($e,se(ee(h.$attrs)),{default:y(()=>[E(h.$slots,"content")]),_:3},16)],512),s("div",{class:v([[t.indicatorsLocation],"absolute z-50 flex space-x-3"]),ref_key:"carouselIndicatorsWrapper",ref:l},null,2),h.$slots.buttons?$("",!0):(i(),u("div",Ee,[s("button",{title:"previous",ref_key:"carouselPrevious",ref:n,type:"button",class:v(["group absolute left-0 top-0 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none",{hidden:!t.overflowing&&!t.isCycle&&_.value}])},[...d[0]||(d[0]=[s("span",{class:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"},[s("svg",{class:"h-4 w-4 text-white dark:text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 1 1 5l4 4"})])],-1)])],2),s("button",{title:"next",ref_key:"carouselNext",ref:r,type:"button",class:v(["group absolute right-0 top-0 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none",{hidden:!t.overflowing&&!t.isCycle&&k.value}])},[...d[1]||(d[1]=[s("span",{class:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:outline-none group-focus:ring-4 group-focus:ring-white dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"},[s("svg",{class:"h-4 w-4 text-white dark:text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[s("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})])],-1)])],2)])),h.$slots.buttons?(i(),u("div",Ne,[E(h.$slots,"buttons",{next:j(a),previous:j(b),isEnd:k.value,isStart:_.value})])):$("",!0)],4))}}),Se={class:"center h-dvh"},Le={class:"bg--0 tablet:w-lg desktop:w-4xl desktop:min-h-auto tablet:min-h-auto min-h-dvh h-fit w-dvw rounded-lg p-8 items-center flex"},qe={key:0,class:"text-3xl font-medium"},Re={class:"desktop:w-md w-full space-y-6"},je=g({__name:"FormContainer",props:{title:{},buttonHandler:{type:Function}},setup(t){return(e,o)=>(i(),u("div",Se,[s("div",Le,[s("form",{class:"justify-center-safe desktop:flex-row desktop:justify-between flex size-full flex-col space-y-6",onSubmit:o[0]||(o[0]=I((...l)=>e.buttonHandler&&e.buttonHandler(...l),["prevent"]))},[e.title?(i(),u("h5",qe,A(e.title),1)):$("",!0),s("div",Re,[E(e.$slots,"default")])],32)])]))}}),Pe=g({props:{name:{type:String,required:!0}}}),Ae={class:"material-symbols-outlined aspect-square"};function Te(t,e,o,l,r,n){return i(),u("span",Ae,A(t.name),1)}const Be=T(Pe,[["render",Te]]),De={class:"text--primary bg--0 flex w-full flex-col p-1"},Me={class:"bg--0 z-1 -mb-2 ml-2 block w-fit text-sm font-medium"},Oe={class:"relative z-0"},Fe={key:0,class:"pointer-events-none absolute inset-y-0 start-0 flex items-center px-[9px]"},ze=["type","disabled","placeholder"],R=g({__name:"TextInput",props:te({name:{type:String,required:!0},type:{type:String,default:"text"},icon:{type:String,required:!1},placeholder:{type:String,required:!1},disable:{type:Boolean,required:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=oe(t,"modelValue");return(o,l)=>(i(),u("div",De,[s("label",Me,A(t.name),1),s("div",Oe,[t.icon?(i(),u("div",Fe,[f(Be,{name:t.icon.toLowerCase()},null,8,["name"])])):$("",!0),ne(s("input",{title:"","onUpdate:modelValue":l[0]||(l[0]=r=>e.value=r),class:v(["border--primary bg--0 text--0 w-full rounded-lg border p-2.5",{"ps-10!":t.icon}]),type:t.type,disabled:t.disable,placeholder:t.placeholder},null,10,ze),[[Q,e.value]])])]))}}),He={class:"right-0 -bottom-15 flex h-8 w-fit items-center justify-center [&>*]:ml-2"},Ie={class:"w-full space-y-6"},Qe={class:"w-full justify-center px-16"},Ue=["src"],We=g({__name:"QrGenerator",setup(t){const e=m(""),o=re({name:"",email:"",phone:""}),l=async()=>{function r(){const{name:b,phone:w,email:x}=o,C=b.split(" ")[0],_=b.split(" ").slice(-1)[0],k=b.split(" ").slice(1,-1).join(" ")||"",p=[C,_,k,"",""].join(";"),V=`${C} ${k} ${_}`.trim();return{qrContact:`
BEGIN:VCARD
VERSION:3.0
N:${p}
FN:${V}
TEL;TYPE=cell:${w}
EMAIL;INTERNET;PREF:${x}
END:VCARD
  `.trim(),qrPhone:`MECARD:TEL:${w};;`}}const{qrContact:n}=r(),a={margin:0,width:512};e.value=await ae.toDataURL(n,a)};return(r,n)=>(i(),z(je,{"button-handler":l,title:"Tạo QR lưu danh bạ"},{default:y(()=>[f(Ve,{"indicators-location":"-bottom-15 p-1 hidden",indicator:{activeClasses:"bg-light-primary/90",inactiveClasses:"bg-light-primary/50 hover:bg-light-primary/70"},class:"mb-20 min-h-30"},{buttons:y(({next:a,isEnd:b,previous:w,isStart:x})=>[s("div",He,[f(D,{"button-ref":w,theme:"secondary",class:v({hidden:x})},{default:y(()=>[...n[3]||(n[3]=[N(" Trở về ",-1)])]),_:1},8,["button-ref","class"]),f(D,{"button-ref":a,class:v({hidden:b}),onclick:l},{default:y(()=>[...n[4]||(n[4]=[N(" Hoàn tất ",-1)])]),_:1},8,["button-ref","class"])])]),content:y(()=>[s("div",Ie,[f(R,{name:"Tên cá nhân",modelValue:o.name,"onUpdate:modelValue":n[0]||(n[0]=a=>o.name=a)},null,8,["modelValue"]),f(R,{name:"Số điện thoại",modelValue:o.phone,"onUpdate:modelValue":n[1]||(n[1]=a=>o.phone=a)},null,8,["modelValue"]),f(R,{name:"Thư điện tử",modelValue:o.email,"onUpdate:modelValue":n[2]||(n[2]=a=>o.email=a)},null,8,["modelValue"])]),s("div",Qe,[s("img",{src:e.value,alt:""},null,8,Ue)])]),_:1})]),_:1}))}}),Ge=X({history:Y("/qrcodegen/"),routes:[{path:"/",component:me},{path:"/qr-contact",component:We},{path:"/:pathMatch(.*)*",component:we}]});U(ue).use(Ge).mount("#app");
