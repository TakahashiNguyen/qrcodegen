function ge(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}function dt(e){if(Array.isArray(e))return e}function ot(e){if(Array.isArray(e))return ge(e)}function ut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,r,t){return r=E(r),gt(e,qe()?Reflect.construct(r,t||[],E(e).constructor):r.apply(e,t))}function A(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fe(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,mt(i.key),i)}}function T(e,r,t){return r&&Fe(e.prototype,r),t&&Fe(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $(){return $=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,r,t){var i=vt(e,r);if(i){var n=Object.getOwnPropertyDescriptor(i,r);return n.get?n.get.call(arguments.length<3?e:t):n.value}},$.apply(null,arguments)}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E(e)}function be(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&ve(e,r)}function qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qe=function(){return!!e})()}function lt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ct(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var i,n,a,s,d=[],o=!0,u=!1;try{if(a=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;o=!1}else for(;!(o=(i=a.call(t)).done)&&(d.push(i.value),d.length!==r);o=!0);}catch(l){u=!0,n=l}finally{try{if(!o&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw n}}return d}}function ft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gt(e,r){if(r&&(typeof r=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function ve(e,r){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},ve(e,r)}function w(e,r){return dt(e)||ct(e,r)||ze(e,r)||ft()}function vt(e,r){for(;!{}.hasOwnProperty.call(e,r)&&(e=E(e))!==null;);return e}function J(e){return ot(e)||lt(e)||ze(e)||ht()}function yt(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var i=t.call(e,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function mt(e){var r=yt(e,"string");return typeof r=="symbol"?r:r+""}function Q(e){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Q(e)}function ze(e,r){if(e){if(typeof e=="string")return ge(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ge(e,r):void 0}}function O(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function we(e){return e[e.length-1]}function B(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),i=1;i<r;i++)t[i-1]=arguments[i];return t.forEach(function(n){e.includes(n)||e.push(n)}),e}function de(e,r){return e?e.split(r):[]}function ke(e,r,t){var i=r===void 0||e>=r,n=t===void 0||e<=t;return i&&n}function Je(e,r,t){return e<r?r:e>t?t:e}function j(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",a=Object.keys(t).reduce(function(d,o){var u=t[o];return typeof u=="function"&&(u=u(i)),"".concat(d," ").concat(o,'="').concat(u,'"')},e);n+="<".concat(a,"></").concat(e,">");var s=i+1;return s<r?j(e,r,t,s,n):n}function De(e){return e.replace(/>\s+/g,">").replace(/\s+</,"<")}function ye(e){return new Date(e).setHours(0,0,0,0)}function W(){return new Date().setHours(0,0,0,0)}function F(){switch(arguments.length){case 0:return W();case 1:return ye(arguments.length<=0?void 0:arguments[0])}var e=new Date(0);return e.setFullYear.apply(e,arguments),e.setHours(0,0,0,0)}function N(e,r){var t=new Date(e);return t.setDate(t.getDate()+r)}function pt(e,r){return N(e,r*7)}function ee(e,r){var t=new Date(e),i=t.getMonth()+r,n=i%12;n<0&&(n+=12);var a=t.setMonth(i);return t.getMonth()!==n?t.setDate(0):a}function Y(e,r){var t=new Date(e),i=t.getMonth(),n=t.setFullYear(t.getFullYear()+r);return i===1&&t.getMonth()===2?t.setDate(0):n}function Ee(e,r){return(e-r+7)%7}function te(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=new Date(e).getDay();return N(e,Ee(r,t)-Ee(i,t))}function bt(e){var r=te(e,4,1),t=te(new Date(r).setMonth(0,4),4,1);return Math.round((r-t)/6048e5)+1}function _(e,r){var t=new Date(e).getFullYear();return Math.floor(t/r)*r}var me=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,wt=/[\s!-/:-@[-`{-~年月日]+/,oe={},Le={y:function(r,t){return new Date(r).setFullYear(parseInt(t,10))},m:function(r,t,i){var n=new Date(r),a=parseInt(t,10)-1;if(isNaN(a)){if(!t)return NaN;var s=t.toLowerCase(),d=function(u){return u.toLowerCase().startsWith(s)};if(a=i.monthsShort.findIndex(d),a<0&&(a=i.months.findIndex(d)),a<0)return NaN}return n.setMonth(a),n.getMonth()!==Ue(a)?n.setDate(0):n.getTime()},d:function(r,t){return new Date(r).setDate(parseInt(t,10))}},kt={d:function(r){return r.getDate()},dd:function(r){return Z(r.getDate(),2)},D:function(r,t){return t.daysShort[r.getDay()]},DD:function(r,t){return t.days[r.getDay()]},m:function(r){return r.getMonth()+1},mm:function(r){return Z(r.getMonth()+1,2)},M:function(r,t){return t.monthsShort[r.getMonth()]},MM:function(r,t){return t.months[r.getMonth()]},y:function(r){return r.getFullYear()},yy:function(r){return Z(r.getFullYear(),2).slice(-2)},yyyy:function(r){return Z(r.getFullYear(),4)}};function Ue(e){return e>-1?e%12:Ue(e+12)}function Z(e,r){return e.toString().padStart(r,"0")}function Xe(e){if(typeof e!="string")throw new Error("Invalid date format.");if(e in oe)return oe[e];var r=e.split(me),t=e.match(new RegExp(me,"g"));if(r.length===0||!t)throw new Error("Invalid date format.");var i=t.map(function(a){return kt[a]}),n=Object.keys(Le).reduce(function(a,s){var d=t.find(function(o){return o[0]!=="D"&&o[0].toLowerCase()===s});return d&&a.push(s),a},[]);return oe[e]={parser:function(s,d){var o=s.split(wt).reduce(function(u,l,c){if(l.length>0&&t[c]){var f=t[c][0];f==="M"?u.m=l:f!=="D"&&(u[f]=l)}return u},{});return n.reduce(function(u,l){var c=Le[l](u,o[l],d);return isNaN(c)?u:c},W())},formatter:function(s,d){var o=i.reduce(function(u,l,c){return u+="".concat(r[c]).concat(l(s,d))},"");return o+=we(r)}}}function q(e,r,t){if(e instanceof Date||typeof e=="number"){var i=ye(e);return isNaN(i)?void 0:i}if(e){if(e==="today")return W();if(r&&r.toValue){var n=r.toValue(e,r,t);return isNaN(n)?void 0:ye(n)}return Xe(r).parser(e,t)}}function z(e,r,t){if(isNaN(e)||!e&&e!==0)return"";var i=typeof e=="number"?new Date(e):e;return r.toDisplay?r.toDisplay(i,r,t):Xe(r).formatter(i,t)}var re=new WeakMap,Ze=EventTarget.prototype,_e=Ze.addEventListener,Be=Ze.removeEventListener;function xe(e,r){var t=re.get(e);t||(t=[],re.set(e,t)),r.forEach(function(i){_e.call.apply(_e,J(i)),t.push(i)})}function Ge(e){var r=re.get(e);r&&(r.forEach(function(t){Be.call.apply(Be,J(t))}),re.delete(e))}if(!Event.prototype.composedPath){var Dt=function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];t.push(r);var i;return r.parentNode?i=r.parentNode:r.host?i=r.host:r.defaultView&&(i=r.defaultView),i?e(i,t):t};Event.prototype.composedPath=function(){return Dt(this.target)}}function Qe(e,r,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,n=e[i];return r(n)?n:n===t||!n.parentElement?void 0:Qe(e,r,t,i+1)}function et(e,r){var t=typeof r=="function"?r:function(i){return i.matches(r)};return Qe(e.composedPath(),t,e.currentTarget)}var R={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},U={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,calendarWeeks:!1,clearBtn:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/></svg>',orientation:"auto",pickLevel:0,prevArrow:'<svg class="w-4 h-4 rtl:rotate-180 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5H1m0 0 4 4M1 5l4-4"/></svg>',showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayBtn:!1,todayBtnMode:0,todayHighlight:!1,updateOnBlur:!0,weekStart:0},ue=null;function M(e){return ue==null&&(ue=document.createRange()),ue.createContextualFragment(e)}function H(e){e.style.display!=="none"&&(e.style.display&&(e.dataset.styleDisplay=e.style.display),e.style.display="none")}function K(e){e.style.display==="none"&&(e.dataset.styleDisplay?(e.style.display=e.dataset.styleDisplay,delete e.dataset.styleDisplay):e.style.display="")}function ie(e){e.firstChild&&(e.removeChild(e.firstChild),ie(e))}function xt(e,r){ie(e),r instanceof DocumentFragment?e.appendChild(r):typeof r=="string"?e.appendChild(M(r)):typeof r.forEach=="function"&&r.forEach(function(t){e.appendChild(t)})}var le=U.language,Ot=U.format,Mt=U.weekStart;function Ae(e,r){return e.length<6&&r>=0&&r<7?B(e,r):e}function Te(e){return(e+6)%7}function We(e,r,t,i){var n=q(e,r,t);return n!==void 0?n:i}function ce(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,i=parseInt(e,10);return i>=0&&i<=t?i:r}function fe(e,r){var t=Object.assign({},e),i={},n=r.constructor.locales,a=r.config||{},s=a.format,d=a.language,o=a.locale,u=a.maxDate,l=a.maxView,c=a.minDate,f=a.pickLevel,h=a.startView,g=a.weekStart;if(t.language){var y;if(t.language!==d&&(n[t.language]?y=t.language:(y=t.language.split("-")[0],n[y]===void 0&&(y=!1))),delete t.language,y){d=i.language=y;var m=o||n[le];o=Object.assign({format:Ot,weekStart:Mt},n[le]),d!==le&&Object.assign(o,n[d]),i.locale=o,s===m.format&&(s=i.format=o.format),g===m.weekStart&&(g=i.weekStart=o.weekStart,i.weekEnd=Te(o.weekStart))}}if(t.format){var L=typeof t.format.toDisplay=="function",X=typeof t.format.toValue=="function",se=me.test(t.format);(L&&X||se)&&(s=i.format=t.format),delete t.format}var S=c,k=u;if(t.minDate!==void 0&&(S=t.minDate===null?F(0,0,1):We(t.minDate,s,o,S),delete t.minDate),t.maxDate!==void 0&&(k=t.maxDate===null?void 0:We(t.maxDate,s,o,k),delete t.maxDate),k<S?(c=i.minDate=k,u=i.maxDate=S):(c!==S&&(c=i.minDate=S),u!==k&&(u=i.maxDate=k)),t.datesDisabled&&(i.datesDisabled=t.datesDisabled.reduce(function(b,st){var Ve=q(st,s,o);return Ve!==void 0?B(b,Ve):b},[]),delete t.datesDisabled),t.defaultViewDate!==void 0){var D=q(t.defaultViewDate,s,o);D!==void 0&&(i.defaultViewDate=D),delete t.defaultViewDate}if(t.weekStart!==void 0){var C=Number(t.weekStart)%7;isNaN(C)||(g=i.weekStart=C,i.weekEnd=Te(C)),delete t.weekStart}if(t.daysOfWeekDisabled&&(i.daysOfWeekDisabled=t.daysOfWeekDisabled.reduce(Ae,[]),delete t.daysOfWeekDisabled),t.daysOfWeekHighlighted&&(i.daysOfWeekHighlighted=t.daysOfWeekHighlighted.reduce(Ae,[]),delete t.daysOfWeekHighlighted),t.maxNumberOfDates!==void 0){var x=parseInt(t.maxNumberOfDates,10);x>=0&&(i.maxNumberOfDates=x,i.multidate=x!==1),delete t.maxNumberOfDates}t.dateDelimiter&&(i.dateDelimiter=String(t.dateDelimiter),delete t.dateDelimiter);var p=f;t.pickLevel!==void 0&&(p=ce(t.pickLevel,2),delete t.pickLevel),p!==f&&(f=i.pickLevel=p);var v=l;t.maxView!==void 0&&(v=ce(t.maxView,l),delete t.maxView),v=f>v?f:v,v!==l&&(l=i.maxView=v);var V=h;if(t.startView!==void 0&&(V=ce(t.startView,V),delete t.startView),V<f?V=f:V>l&&(V=l),V!==h&&(i.startView=V),t.prevArrow){var Me=M(t.prevArrow);Me.childNodes.length>0&&(i.prevArrow=Me.childNodes),delete t.prevArrow}if(t.nextArrow){var Se=M(t.nextArrow);Se.childNodes.length>0&&(i.nextArrow=Se.childNodes),delete t.nextArrow}if(t.disableTouchKeyboard!==void 0&&(i.disableTouchKeyboard="ontouchstart"in document&&!!t.disableTouchKeyboard,delete t.disableTouchKeyboard),t.orientation){var Ce=t.orientation.toLowerCase().split(/\s+/g);i.orientation={x:Ce.find(function(b){return b==="left"||b==="right"})||"auto",y:Ce.find(function(b){return b==="top"||b==="bottom"})||"auto"},delete t.orientation}if(t.todayBtnMode!==void 0){switch(t.todayBtnMode){case 0:case 1:i.todayBtnMode=t.todayBtnMode}delete t.todayBtnMode}return Object.keys(t).forEach(function(b){t[b]!==void 0&&O(U,b)&&(i[b]=t[b])}),i}var St=De(`<div class="datepicker hidden">
  <div class="datepicker-picker inline-block rounded-lg bg-white dark:bg-gray-700 shadow-lg p-4">
    <div class="datepicker-header">
      <div class="datepicker-title bg-white dark:bg-gray-700 dark:text-white px-2 py-3 text-center font-semibold"></div>
      <div class="datepicker-controls flex justify-between mb-2">
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 prev-btn"></button>
        <button type="button" class="text-sm rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-700 font-semibold py-2.5 px-5 hover:bg-gray-100 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-200 view-switch"></button>
        <button type="button" class="bg-white dark:bg-gray-700 rounded-lg text-gray-500 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-600 hover:text-gray-900 dark:hover:text-white text-lg p-2.5 focus:outline-none focus:ring-2 focus:ring-gray-200 next-btn"></button>
      </div>
    </div>
    <div class="datepicker-main p-1"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls flex space-x-2 rtl:space-x-reverse mt-2">
        <button type="button" class="%buttonClass% today-btn text-white bg-blue-700 !bg-primary-700 dark:bg-blue-600 dark:!bg-primary-600 hover:bg-blue-800 hover:!bg-primary-800 dark:hover:bg-blue-700 dark:hover:!bg-primary-700 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
        <button type="button" class="%buttonClass% clear-btn text-gray-900 dark:text-white bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 focus:ring-4 focus:ring-blue-300 focus:!ring-primary-300 font-medium rounded-lg text-sm px-5 py-2 text-center w-1/2"></button>
      </div>
    </div>
  </div>
</div>`),Ct=De(`<div class="days">
  <div class="days-of-week grid grid-cols-7 mb-1">`.concat(j("span",7,{class:"dow block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
  <div class="datepicker-grid w-64 grid grid-cols-7">`).concat(j("span",42,{class:"block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"}),`</div>
</div>`)),Vt=De(`<div class="calendar-weeks">
  <div class="days-of-week flex"><span class="dow h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"></span></div>
  <div class="weeks">`.concat(j("span",6,{class:"week block flex-1 leading-9 border-0 rounded-lg cursor-default text-center text-gray-900 font-semibold text-sm"}),`</div>
</div>`)),Oe=(function(){function e(r,t){A(this,e),Object.assign(this,t,{picker:r,element:M('<div class="datepicker-view flex"></div>').firstChild,selected:[]}),this.init(this.picker.datepicker.config)}return T(e,[{key:"init",value:function(t){t.pickLevel!==void 0&&(this.isMinView=this.id===t.pickLevel),this.setOptions(t),this.updateFocus(),this.updateSelection()}},{key:"performBeforeHook",value:function(t,i,n){var a=this.beforeShow(new Date(n));switch(Q(a)){case"boolean":a={enabled:a};break;case"string":a={classes:a}}if(a){if(a.enabled===!1&&(t.classList.add("disabled"),B(this.disabled,i)),a.classes){var s,d=a.classes.split(/\s+/);(s=t.classList).add.apply(s,J(d)),d.includes("disabled")&&B(this.disabled,i)}a.content&&xt(t,a.content)}}}])})(),Ft=(function(e){function r(t){return A(this,r),pe(this,r,[t,{id:0,name:"days",cellClass:"day"}])}return be(r,e),T(r,[{key:"init",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(n){var a=M(Ct).firstChild;this.dow=a.firstChild,this.grid=a.lastChild,this.element.appendChild(a)}$(E(r.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){var n=this,a;if(O(i,"minDate")&&(this.minDate=i.minDate),O(i,"maxDate")&&(this.maxDate=i.maxDate),i.datesDisabled&&(this.datesDisabled=i.datesDisabled),i.daysOfWeekDisabled&&(this.daysOfWeekDisabled=i.daysOfWeekDisabled,a=!0),i.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=i.daysOfWeekHighlighted),i.todayHighlight!==void 0&&(this.todayHighlight=i.todayHighlight),i.weekStart!==void 0&&(this.weekStart=i.weekStart,this.weekEnd=i.weekEnd,a=!0),i.locale){var s=this.locale=i.locale;this.dayNames=s.daysMin,this.switchLabelFormat=s.titleFormat,a=!0}if(i.beforeShowDay!==void 0&&(this.beforeShow=typeof i.beforeShowDay=="function"?i.beforeShowDay:void 0),i.calendarWeeks!==void 0)if(i.calendarWeeks&&!this.calendarWeeks){var d=M(Vt).firstChild;this.calendarWeeks={element:d,dow:d.firstChild,weeks:d.lastChild},this.element.insertBefore(d,this.element.firstChild)}else this.calendarWeeks&&!i.calendarWeeks&&(this.element.removeChild(this.calendarWeeks.element),this.calendarWeeks=null);i.showDaysOfWeek!==void 0&&(i.showDaysOfWeek?(K(this.dow),this.calendarWeeks&&K(this.calendarWeeks.dow)):(H(this.dow),this.calendarWeeks&&H(this.calendarWeeks.dow))),a&&Array.from(this.dow.children).forEach(function(o,u){var l=(n.weekStart+u)%7;o.textContent=n.dayNames[l],o.className=n.daysOfWeekDisabled.includes(l)?"dow disabled text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400 cursor-not-allowed":"dow text-center h-6 leading-6 text-sm font-medium text-gray-500 dark:text-gray-400"})}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),n=i.getFullYear(),a=i.getMonth(),s=F(n,a,1),d=te(s,this.weekStart,this.weekStart);this.first=s,this.last=F(n,a+1,0),this.start=d,this.focused=this.picker.viewDate}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,n=i.dates,a=i.rangepicker;this.selected=n,a&&(this.range=a.dates)}},{key:"render",value:function(){var i=this;this.today=this.todayHighlight?W():void 0,this.disabled=J(this.datesDisabled);var n=z(this.focused,this.switchLabelFormat,this.locale);if(this.picker.setViewSwitchLabel(n),this.picker.setPrevBtnDisabled(this.first<=this.minDate),this.picker.setNextBtnDisabled(this.last>=this.maxDate),this.calendarWeeks){var a=te(this.first,1,1);Array.from(this.calendarWeeks.weeks.children).forEach(function(s,d){s.textContent=bt(pt(a,d))})}Array.from(this.grid.children).forEach(function(s,d){var o=s.classList,u=N(i.start,d),l=new Date(u),c=l.getDay();if(s.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),s.dataset.date=u,s.textContent=l.getDate(),u<i.first?o.add("prev","text-gray-500","dark:text-white"):u>i.last&&o.add("next","text-gray-500","dark:text-white"),i.today===u&&o.add("today","bg-gray-100","dark:bg-gray-600"),(u<i.minDate||u>i.maxDate||i.disabled.includes(u))&&(o.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),o.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer")),i.daysOfWeekDisabled.includes(c)&&(o.add("disabled","cursor-not-allowed","text-gray-400","dark:text-gray-500"),o.remove("hover:bg-gray-100","dark:hover:bg-gray-600","text-gray-900","dark:text-white","cursor-pointer"),B(i.disabled,u)),i.daysOfWeekHighlighted.includes(c)&&o.add("highlighted"),i.range){var f=w(i.range,2),h=f[0],g=f[1];u>h&&u<g&&(o.add("range","bg-gray-200","dark:bg-gray-600"),o.remove("rounded-lg","rounded-l-lg","rounded-r-lg")),u===h&&(o.add("range-start","bg-gray-100","dark:bg-gray-600","rounded-l-lg"),o.remove("rounded-lg","rounded-r-lg")),u===g&&(o.add("range-end","bg-gray-100","dark:bg-gray-600","rounded-r-lg"),o.remove("rounded-lg","rounded-l-lg"))}i.selected.includes(u)&&(o.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),o.remove("text-gray-900","text-gray-500","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","dark:bg-gray-600","bg-gray-100","bg-gray-200")),u===i.focused&&o.add("focused"),i.beforeShow&&i.performBeforeHook(s,u,u)})}},{key:"refresh",value:function(){var i=this,n=this.range||[],a=w(n,2),s=a[0],d=a[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(o){o.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white","focused"),o.classList.add("text-gray-900","rounded-lg","dark:text-white")}),Array.from(this.grid.children).forEach(function(o){var u=Number(o.dataset.date),l=o.classList;l.remove("bg-gray-200","dark:bg-gray-600","rounded-l-lg","rounded-r-lg"),u>s&&u<d&&(l.add("range","bg-gray-200","dark:bg-gray-600"),l.remove("rounded-lg")),u===s&&(l.add("range-start","bg-gray-200","dark:bg-gray-600","rounded-l-lg"),l.remove("rounded-lg")),u===d&&(l.add("range-end","bg-gray-200","dark:bg-gray-600","rounded-r-lg"),l.remove("rounded-lg")),i.selected.includes(u)&&(l.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),l.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600","bg-gray-100","bg-gray-200","dark:bg-gray-600")),u===i.focused&&l.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/864e5);this.grid.querySelectorAll(".focused").forEach(function(n){n.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])})(Oe);function Ne(e,r){if(!(!e||!e[0]||!e[1])){var t=w(e,2),i=w(t[0],2),n=i[0],a=i[1],s=w(t[1],2),d=s[0],o=s[1];if(!(n>r||d<r))return[n===r?a:-1,d===r?o:12]}}var Et=(function(e){function r(t){return A(this,r),pe(this,r,[t,{id:1,name:"months",cellClass:"month"}])}return be(r,e),T(r,[{key:"init",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(M(j("span",12,{"data-month":function(s){return s}})))),$(E(r.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(i.locale&&(this.monthNames=i.locale.monthsShort),O(i,"minDate"))if(i.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{var n=new Date(i.minDate);this.minYear=n.getFullYear(),this.minMonth=n.getMonth(),this.minDate=n.setDate(1)}if(O(i,"maxDate"))if(i.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{var a=new Date(i.maxDate);this.maxYear=a.getFullYear(),this.maxMonth=a.getMonth(),this.maxDate=F(this.maxYear,this.maxMonth+1,0)}i.beforeShowMonth!==void 0&&(this.beforeShow=typeof i.beforeShowMonth=="function"?i.beforeShowMonth:void 0)}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate);this.year=i.getFullYear(),this.focused=i.getMonth()}},{key:"updateSelection",value:function(){var i=this.picker.datepicker,n=i.dates,a=i.rangepicker;this.selected=n.reduce(function(s,d){var o=new Date(d),u=o.getFullYear(),l=o.getMonth();return s[u]===void 0?s[u]=[l]:B(s[u],l),s},{}),a&&a.dates&&(this.range=a.dates.map(function(s){var d=new Date(s);return isNaN(d)?void 0:[d.getFullYear(),d.getMonth()]}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel(this.year),this.picker.setPrevBtnDisabled(this.year<=this.minYear),this.picker.setNextBtnDisabled(this.year>=this.maxYear);var n=this.selected[this.year]||[],a=this.year<this.minYear||this.year>this.maxYear,s=this.year===this.minYear,d=this.year===this.maxYear,o=Ne(this.range,this.year);Array.from(this.grid.children).forEach(function(u,l){var c=u.classList,f=F(i.year,l,1);if(u.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(u.dataset.date=f),u.textContent=i.monthNames[l],(a||s&&l<i.minMonth||d&&l>i.maxMonth)&&c.add("disabled"),o){var h=w(o,2),g=h[0],y=h[1];l>g&&l<y&&c.add("range"),l===g&&c.add("range-start"),l===y&&c.add("range-end")}n.includes(l)&&(c.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),c.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),l===i.focused&&c.add("focused"),i.beforeShow&&i.performBeforeHook(u,l,f)})}},{key:"refresh",value:function(){var i=this,n=this.selected[this.year]||[],a=Ne(this.range,this.year)||[],s=w(a,2),d=s[0],o=s[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(u){u.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","dark:bg-blue-600","dark:!bg-primary-700","dark:text-white","text-white","focused"),u.classList.add("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")}),Array.from(this.grid.children).forEach(function(u,l){var c=u.classList;l>d&&l<o&&c.add("range"),l===d&&c.add("range-start"),l===o&&c.add("range-end"),n.includes(l)&&(c.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),c.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),l===i.focused&&c.add("focused")})}},{key:"refreshFocus",value:function(){this.grid.querySelectorAll(".focused").forEach(function(i){i.classList.remove("focused")}),this.grid.children[this.focused].classList.add("focused")}}])})(Oe);function Lt(e){return J(e).reduce(function(r,t,i){return r+=i?t:t.toUpperCase()},"")}var Ye=(function(e){function r(t,i){return A(this,r),pe(this,r,[t,i])}return be(r,e),T(r,[{key:"init",value:function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n&&(this.navStep=this.step*10,this.beforeShowOption="beforeShow".concat(Lt(this.cellClass)),this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid","w-64","grid","grid-cols-4"),this.grid.appendChild(M(j("span",12)))),$(E(r.prototype),"init",this).call(this,i)}},{key:"setOptions",value:function(i){if(O(i,"minDate")&&(i.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=_(i.minDate,this.step),this.minDate=F(this.minYear,0,1))),O(i,"maxDate")&&(i.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=_(i.maxDate,this.step),this.maxDate=F(this.maxYear,11,31))),i[this.beforeShowOption]!==void 0){var n=i[this.beforeShowOption];this.beforeShow=typeof n=="function"?n:void 0}}},{key:"updateFocus",value:function(){var i=new Date(this.picker.viewDate),n=_(i,this.navStep),a=n+9*this.step;this.first=n,this.last=a,this.start=n-this.step,this.focused=_(i,this.step)}},{key:"updateSelection",value:function(){var i=this,n=this.picker.datepicker,a=n.dates,s=n.rangepicker;this.selected=a.reduce(function(d,o){return B(d,_(o,i.step))},[]),s&&s.dates&&(this.range=s.dates.map(function(d){if(d!==void 0)return _(d,i.step)}))}},{key:"render",value:function(){var i=this;this.disabled=[],this.picker.setViewSwitchLabel("".concat(this.first,"-").concat(this.last)),this.picker.setPrevBtnDisabled(this.first<=this.minYear),this.picker.setNextBtnDisabled(this.last>=this.maxYear),Array.from(this.grid.children).forEach(function(n,a){var s=n.classList,d=i.start+a*i.step,o=F(d,0,1);if(n.className="datepicker-cell hover:bg-gray-100 dark:hover:bg-gray-600 block flex-1 leading-9 border-0 rounded-lg cursor-pointer text-center text-gray-900 dark:text-white font-semibold text-sm ".concat(i.cellClass),i.isMinView&&(n.dataset.date=o),n.textContent=n.dataset.year=d,a===0?s.add("prev"):a===11&&s.add("next"),(d<i.minYear||d>i.maxYear)&&s.add("disabled"),i.range){var u=w(i.range,2),l=u[0],c=u[1];d>l&&d<c&&s.add("range"),d===l&&s.add("range-start"),d===c&&s.add("range-end")}i.selected.includes(d)&&(s.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),s.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),d===i.focused&&s.add("focused"),i.beforeShow&&i.performBeforeHook(n,d,o)})}},{key:"refresh",value:function(){var i=this,n=this.range||[],a=w(n,2),s=a[0],d=a[1];this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function(o){o.classList.remove("range","range-start","range-end","selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark!bg-primary-600","dark:text-white","focused")}),Array.from(this.grid.children).forEach(function(o){var u=Number(o.textContent),l=o.classList;u>s&&u<d&&l.add("range"),u===s&&l.add("range-start"),u===d&&l.add("range-end"),i.selected.includes(u)&&(l.add("selected","bg-blue-700","!bg-primary-700","text-white","dark:bg-blue-600","dark:!bg-primary-600","dark:text-white"),l.remove("text-gray-900","hover:bg-gray-100","dark:text-white","dark:hover:bg-gray-600")),u===i.focused&&l.add("focused")})}},{key:"refreshFocus",value:function(){var i=Math.round((this.focused-this.start)/this.step);this.grid.querySelectorAll(".focused").forEach(function(n){n.classList.remove("focused")}),this.grid.children[i].classList.add("focused")}}])})(Oe);function P(e,r){var t={date:e.getDate(),viewDate:new Date(e.picker.viewDate),viewId:e.picker.currentView.id,datepicker:e};e.element.dispatchEvent(new CustomEvent(r,{detail:t}))}function ne(e,r){var t=e.config,i=t.minDate,n=t.maxDate,a=e.picker,s=a.currentView,d=a.viewDate,o;switch(s.id){case 0:o=ee(d,r);break;case 1:o=Y(d,r);break;default:o=Y(d,r*s.navStep)}o=Je(o,i,n),e.picker.changeFocus(o).render()}function tt(e){var r=e.picker.currentView.id;r!==e.config.maxView&&e.picker.changeView(r+1).render()}function rt(e){e.config.updateOnBlur?e.update({autohide:!0}):(e.refresh("input"),e.hide())}function Pe(e,r){var t=e.picker,i=new Date(t.viewDate),n=t.currentView.id,a=n===1?ee(i,r-i.getMonth()):Y(i,r-i.getFullYear());t.changeFocus(a).changeView(n-1).render()}function _t(e){var r=e.picker,t=W();if(e.config.todayBtnMode===1){if(e.config.autohide){e.setDate(t);return}e.setDate(t,{render:!1}),r.update()}r.viewDate!==t&&r.changeFocus(t),r.changeView(0).render()}function Bt(e){e.setDate({clear:!0})}function At(e){tt(e)}function Tt(e){ne(e,-1)}function Wt(e){ne(e,1)}function Nt(e,r){var t=et(r,".datepicker-cell");if(!(!t||t.classList.contains("disabled"))){var i=e.picker.currentView,n=i.id,a=i.isMinView;a?e.setDate(Number(t.dataset.date)):n===1?Pe(e,Number(t.dataset.month)):Pe(e,Number(t.dataset.year))}}function Yt(e){!e.inline&&!e.config.disableTouchKeyboard&&e.inputField.focus()}function je(e,r){if(r.title!==void 0&&(r.title?(e.controls.title.textContent=r.title,K(e.controls.title)):(e.controls.title.textContent="",H(e.controls.title))),r.prevArrow){var t=e.controls.prevBtn;ie(t),r.prevArrow.forEach(function(d){t.appendChild(d.cloneNode(!0))})}if(r.nextArrow){var i=e.controls.nextBtn;ie(i),r.nextArrow.forEach(function(d){i.appendChild(d.cloneNode(!0))})}if(r.locale&&(e.controls.todayBtn.textContent=r.locale.today,e.controls.clearBtn.textContent=r.locale.clear),r.todayBtn!==void 0&&(r.todayBtn?K(e.controls.todayBtn):H(e.controls.todayBtn)),O(r,"minDate")||O(r,"maxDate")){var n=e.datepicker.config,a=n.minDate,s=n.maxDate;e.controls.todayBtn.disabled=!ke(W(),a,s)}r.clearBtn!==void 0&&(r.clearBtn?K(e.controls.clearBtn):H(e.controls.clearBtn))}function Re(e){var r=e.dates,t=e.config,i=r.length>0?we(r):t.defaultViewDate;return Je(i,t.minDate,t.maxDate)}function Ie(e,r){var t=new Date(e.viewDate),i=new Date(r),n=e.currentView,a=n.id,s=n.year,d=n.first,o=n.last,u=i.getFullYear();switch(e.viewDate=r,u!==t.getFullYear()&&P(e.datepicker,"changeYear"),i.getMonth()!==t.getMonth()&&P(e.datepicker,"changeMonth"),a){case 0:return r<d||r>o;case 1:return u!==s;default:return u<d||u>o}}function he(e){return window.getComputedStyle(e).direction}var Pt=(function(){function e(r){A(this,e),this.datepicker=r;var t=St.replace(/%buttonClass%/g,r.config.buttonClass),i=this.element=M(t).firstChild,n=w(i.firstChild.children,3),a=n[0],s=n[1],d=n[2],o=a.firstElementChild,u=w(a.lastElementChild.children,3),l=u[0],c=u[1],f=u[2],h=w(d.firstChild.children,2),g=h[0],y=h[1],m={title:o,prevBtn:l,viewSwitch:c,nextBtn:f,todayBtn:g,clearBtn:y};this.main=s,this.controls=m;var L=r.inline?"inline":"dropdown";i.classList.add("datepicker-".concat(L)),L==="dropdown"&&i.classList.add("dropdown","absolute","top-0","left-0","z-50","pt-2"),je(this,r.config),this.viewDate=Re(r),xe(r,[[i,"click",Yt.bind(null,r),{capture:!0}],[s,"click",Nt.bind(null,r)],[m.viewSwitch,"click",At.bind(null,r)],[m.prevBtn,"click",Tt.bind(null,r)],[m.nextBtn,"click",Wt.bind(null,r)],[m.todayBtn,"click",_t.bind(null,r)],[m.clearBtn,"click",Bt.bind(null,r)]]),this.views=[new Ft(this),new Et(this),new Ye(this,{id:2,name:"years",cellClass:"year",step:1}),new Ye(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[r.config.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),r.config.container.appendChild(this.element)}return T(e,[{key:"setOptions",value:function(t){je(this,t),this.views.forEach(function(i){i.init(t,!1)}),this.currentView.render()}},{key:"detach",value:function(){this.datepicker.config.container.removeChild(this.element)}},{key:"show",value:function(){if(!this.active){this.element.classList.add("active","block"),this.element.classList.remove("hidden"),this.active=!0;var t=this.datepicker;if(!t.inline){var i=he(t.inputField);i!==he(t.config.container)?this.element.dir=i:this.element.dir&&this.element.removeAttribute("dir"),this.place(),t.config.disableTouchKeyboard&&t.inputField.blur()}P(t,"show")}}},{key:"hide",value:function(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active","block"),this.element.classList.add("active","block","hidden"),this.active=!1,P(this.datepicker,"hide"))}},{key:"place",value:function(){var t=this.element,i=t.classList,n=t.style,a=this.datepicker,s=a.config,d=a.inputField,o=s.container,u=this.element.getBoundingClientRect(),l=u.width,c=u.height,f=o.getBoundingClientRect(),h=f.left,g=f.top,y=f.width,m=d.getBoundingClientRect(),L=m.left,X=m.top,se=m.width,S=m.height,k=s.orientation,D=k.x,C=k.y,x,p,v;o===document.body?(x=window.scrollY,p=L+window.scrollX,v=X+x):(x=o.scrollTop,p=L-h,v=X-g+x),D==="auto"&&(p<0?(D="left",p=10):p+l>y?D="right":D=he(d)==="rtl"?"right":"left"),D==="right"&&(p-=l-se),C==="auto"&&(C=v-c<x?"bottom":"top"),C==="top"?v-=c:v+=S,i.remove("datepicker-orient-top","datepicker-orient-bottom","datepicker-orient-right","datepicker-orient-left"),i.add("datepicker-orient-".concat(C),"datepicker-orient-".concat(D)),n.top=v&&"".concat(v,"px"),n.left=p&&"".concat(p,"px")}},{key:"setViewSwitchLabel",value:function(t){this.controls.viewSwitch.textContent=t}},{key:"setPrevBtnDisabled",value:function(t){this.controls.prevBtn.disabled=t}},{key:"setNextBtnDisabled",value:function(t){this.controls.nextBtn.disabled=t}},{key:"changeView",value:function(t){var i=this.currentView,n=this.views[t];return n.id!==i.id&&(this.currentView=n,this._renderMethod="render",P(this.datepicker,"changeView"),this.main.replaceChild(n.element,i.element)),this}},{key:"changeFocus",value:function(t){return this._renderMethod=Ie(this,t)?"render":"refreshFocus",this.views.forEach(function(i){i.updateFocus()}),this}},{key:"update",value:function(){var t=Re(this.datepicker);return this._renderMethod=Ie(this,t)?"render":"refresh",this.views.forEach(function(i){i.updateFocus(),i.updateSelection()}),this}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i=t&&this._renderMethod||"render";delete this._renderMethod,this.currentView[i]()}}])})();function it(e,r,t,i,n,a){if(ke(e,n,a)){if(i(e)){var s=r(e,t);return it(s,r,t,i,n,a)}return e}}function G(e,r,t,i){var n=e.picker,a=n.currentView,s=a.step||1,d=n.viewDate,o,u;switch(a.id){case 0:i?d=N(d,t*7):r.ctrlKey||r.metaKey?d=Y(d,t):d=N(d,t),o=N,u=function(c){return a.disabled.includes(c)};break;case 1:d=ee(d,i?t*4:t),o=ee,u=function(c){var f=new Date(c),h=a.year,g=a.disabled;return f.getFullYear()===h&&g.includes(f.getMonth())};break;default:d=Y(d,t*(i?4:1)*s),o=Y,u=function(c){return a.disabled.includes(_(c,s))}}d=it(d,o,t<0?-s:s,u,a.minDate,a.maxDate),d!==void 0&&n.changeFocus(d).render()}function jt(e,r){if(r.key==="Tab"){rt(e);return}var t=e.picker,i=t.currentView,n=i.id,a=i.isMinView;if(t.active)if(e.editMode)switch(r.key){case"Escape":t.hide();break;case"Enter":e.exitEditMode({update:!0,autohide:e.config.autohide});break;default:return}else switch(r.key){case"Escape":t.hide();break;case"ArrowLeft":if(r.ctrlKey||r.metaKey)ne(e,-1);else if(r.shiftKey){e.enterEditMode();return}else G(e,r,-1,!1);break;case"ArrowRight":if(r.ctrlKey||r.metaKey)ne(e,1);else if(r.shiftKey){e.enterEditMode();return}else G(e,r,1,!1);break;case"ArrowUp":if(r.ctrlKey||r.metaKey)tt(e);else if(r.shiftKey){e.enterEditMode();return}else G(e,r,-1,!0);break;case"ArrowDown":if(r.shiftKey&&!r.ctrlKey&&!r.metaKey){e.enterEditMode();return}G(e,r,1,!0);break;case"Enter":a?e.setDate(t.viewDate):t.changeView(n-1).render();break;case"Backspace":case"Delete":e.enterEditMode();return;default:r.key.length===1&&!r.ctrlKey&&!r.metaKey&&e.enterEditMode();return}else switch(r.key){case"ArrowDown":case"Escape":t.show();break;case"Enter":e.update();break;default:return}r.preventDefault(),r.stopPropagation()}function Rt(e){e.config.showOnFocus&&!e._showing&&e.show()}function It(e,r){var t=r.target;(e.picker.active||e.config.showOnClick)&&(t._active=t===document.activeElement,t._clicking=setTimeout(function(){delete t._active,delete t._clicking},2e3))}function Ht(e,r){var t=r.target;t._clicking&&(clearTimeout(t._clicking),delete t._clicking,t._active&&e.enterEditMode(),delete t._active,e.config.showOnClick&&e.show())}function Kt(e,r){r.clipboardData.types.includes("text/plain")&&e.enterEditMode()}function $t(e,r){var t=e.element;if(t===document.activeElement){var i=e.picker.element;et(r,function(n){return n===t||n===i})||rt(e)}}function nt(e,r){return e.map(function(t){return z(t,r.format,r.locale)}).join(r.dateDelimiter)}function at(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=e.config,n=e.dates,a=e.rangepicker;if(r.length===0)return t?[]:void 0;var s=a&&e===a.datepickers[1],d=r.reduce(function(o,u){var l=q(u,i.format,i.locale);if(l===void 0)return o;if(i.pickLevel>0){var c=new Date(l);i.pickLevel===1?l=s?c.setMonth(c.getMonth()+1,0):c.setDate(1):l=s?c.setFullYear(c.getFullYear()+1,0,0):c.setMonth(0,1)}return ke(l,i.minDate,i.maxDate)&&!o.includes(l)&&!i.datesDisabled.includes(l)&&!i.daysOfWeekDisabled.includes(new Date(l).getDay())&&o.push(l),o},[]);if(d.length!==0)return i.multidate&&!t&&(d=d.reduce(function(o,u){return n.includes(u)||o.push(u),o},n.filter(function(o){return!d.includes(o)}))),i.maxNumberOfDates&&d.length>i.maxNumberOfDates?d.slice(i.maxNumberOfDates*-1):d}function ae(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e.config,n=e.picker,a=e.inputField;if(r&2){var s=n.active?i.pickLevel:i.startView;n.update().changeView(s).render(t)}r&1&&a&&(a.value=nt(e.dates,i))}function He(e,r,t){var i=t.clear,n=t.render,a=t.autohide;n===void 0&&(n=!0),n?a===void 0&&(a=e.config.autohide):a=!1;var s=at(e,r,i);s&&(s.toString()!==e.dates.toString()?(e.dates=s,ae(e,n?3:1),P(e,"changeDate")):ae(e,1),a&&e.hide())}var qt=(function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;A(this,e),r.datepicker=this,this.element=r;var n=this.config=Object.assign({buttonClass:t.buttonClass&&String(t.buttonClass)||"button",container:document.body,defaultViewDate:W(),maxDate:void 0,minDate:void 0},fe(U,this));this._options=t,Object.assign(n,fe(t,this));var a=this.inline=r.tagName!=="INPUT",s,d;if(a)n.container=r,d=de(r.dataset.date,n.dateDelimiter),delete r.dataset.date;else{var o=t.container?document.querySelector(t.container):null;o&&(n.container=o),s=this.inputField=r,s.classList.add("datepicker-input"),d=de(s.value,n.dateDelimiter)}if(i){var u=i.inputs.indexOf(s),l=i.datepickers;if(u<0||u>1||!Array.isArray(l))throw Error("Invalid rangepicker object.");l[u]=this,Object.defineProperty(this,"rangepicker",{get:function(){return i}})}this.dates=[];var c=at(this,d);c&&c.length>0&&(this.dates=c),s&&(s.value=nt(this.dates,n));var f=this.picker=new Pt(this);if(a)this.show();else{var h=$t.bind(null,this),g=[[s,"keydown",jt.bind(null,this)],[s,"focus",Rt.bind(null,this)],[s,"mousedown",It.bind(null,this)],[s,"click",Ht.bind(null,this)],[s,"paste",Kt.bind(null,this)],[document,"mousedown",h],[document,"touchstart",h],[window,"resize",f.place.bind(f)]];xe(this,g)}}return T(e,[{key:"active",get:function(){return!!(this.picker&&this.picker.active)}},{key:"pickerElement",get:function(){return this.picker?this.picker.element:void 0}},{key:"setOptions",value:function(t){var i=this.picker,n=fe(t,this);Object.assign(this._options,t),Object.assign(this.config,n),i.setOptions(n),ae(this,3)}},{key:"show",value:function(){if(this.inputField){if(this.inputField.disabled)return;this.inputField!==document.activeElement&&(this._showing=!0,this.inputField.focus(),delete this._showing)}this.picker.show()}},{key:"hide",value:function(){this.inline||(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}},{key:"destroy",value:function(){return this.hide(),Ge(this),this.picker.detach(),this.inline||this.inputField.classList.remove("datepicker-input"),delete this.element.datepicker,this}},{key:"getDate",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=i?function(a){return z(a,i,t.config.locale)}:function(a){return new Date(a)};if(this.config.multidate)return this.dates.map(n);if(this.dates.length>0)return n(this.dates[0])}},{key:"setDate",value:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a=[].concat(i),s={},d=we(i);Q(d)==="object"&&!Array.isArray(d)&&!(d instanceof Date)&&d&&Object.assign(s,a.pop());var o=Array.isArray(a[0])?a[0]:a;He(this,o,s)}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!this.inline){var i={clear:!0,autohide:!!(t&&t.autohide)},n=de(this.inputField.value,this.config.dateDelimiter);He(this,n,i)}}},{key:"refresh",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;t&&typeof t!="string"&&(i=t,t=void 0);var n;t==="picker"?n=2:t==="input"?n=1:n=3,ae(this,n,!i)}},{key:"enterEditMode",value:function(){this.inline||!this.picker.active||this.editMode||(this.editMode=!0,this.inputField.classList.add("in-edit","border-blue-700","!border-primary-700"))}},{key:"exitEditMode",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;if(!(this.inline||!this.editMode)){var i=Object.assign({update:!1},t);delete this.editMode,this.inputField.classList.remove("in-edit","border-blue-700","!border-primary-700"),i.update&&this.update(i)}}}],[{key:"formatDate",value:function(t,i,n){return z(t,i,n&&R[n]||R.en)}},{key:"parseDate",value:function(t,i,n){return q(t,i,n&&R[n]||R.en)}},{key:"locales",get:function(){return R}}])})();function Ke(e){var r=Object.assign({},e);return delete r.inputs,delete r.allowOneSidedRange,delete r.maxNumberOfDates,r}function $e(e,r,t,i){xe(e,[[t,"changeDate",r]]),new qt(t,i,e)}function I(e,r){if(!e._updating){e._updating=!0;var t=r.target;if(t.datepicker!==void 0){var i=e.datepickers,n={render:!1},a=e.inputs.indexOf(t),s=a===0?1:0,d=i[a].dates[0],o=i[s].dates[0];d!==void 0&&o!==void 0?a===0&&d>o?(i[0].setDate(o,n),i[1].setDate(d,n)):a===1&&d<o&&(i[0].setDate(d,n),i[1].setDate(o,n)):e.allowOneSidedRange||(d!==void 0||o!==void 0)&&(n.clear=!0,i[s].setDate(i[a].dates,n)),i[0].picker.update().render(),i[1].picker.update().render(),delete e._updating}}}var zt=(function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};A(this,e);var i=Array.isArray(t.inputs)?t.inputs:Array.from(r.querySelectorAll("input"));if(!(i.length<2)){r.rangepicker=this,this.element=r,this.inputs=i.slice(0,2),this.allowOneSidedRange=!!t.allowOneSidedRange;var n=I.bind(null,this),a=Ke(t),s=[];Object.defineProperty(this,"datepickers",{get:function(){return s}}),$e(this,n,this.inputs[0],a),$e(this,n,this.inputs[1],a),Object.freeze(s),s[0].dates.length>0?I(this,{target:this.inputs[0]}):s[1].dates.length>0&&I(this,{target:this.inputs[1]})}}return T(e,[{key:"dates",get:function(){return this.datepickers.length===2?[this.datepickers[0].dates[0],this.datepickers[1].dates[0]]:void 0}},{key:"setOptions",value:function(t){this.allowOneSidedRange=!!t.allowOneSidedRange;var i=Ke(t);this.datepickers[0].setOptions(i),this.datepickers[1].setOptions(i)}},{key:"destroy",value:function(){this.datepickers[0].destroy(),this.datepickers[1].destroy(),Ge(this),delete this.element.rangepicker}},{key:"getDates",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=i?function(a){return z(a,i,t.datepickers[0].config.locale)}:function(a){return new Date(a)};return this.dates.map(function(a){return a===void 0?a:n(a)})}},{key:"setDates",value:function(t,i){var n=w(this.datepickers,2),a=n[0],s=n[1],d=this.dates;this._updating=!0,a.setDate(t),s.setDate(i),delete this._updating,s.dates[0]!==d[1]?I(this,{target:this.inputs[1]}):a.dates[0]!==d[0]&&I(this,{target:this.inputs[0]})}}])})();export{zt as D,qt as a};
