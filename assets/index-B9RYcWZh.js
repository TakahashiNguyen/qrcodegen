import{w as H,v as I,c as W}from"./vue_runtime-dom-DgYGFpXt.js";import{i as Q,C as K}from"./flowbite-BK3zwtRc.js";import{R as G,c as Y,a as X}from"./vue-router-C8TyiZc_.js";import{d as k,o as M,e as U,f as u,j as f,k as l,l as c,m as w,r as z,q as L,s as $,t as R,h as J,b as B,w as Z,u as ee,v as te,x as ne,y as oe}from"./vue_runtime-core-QZW3MpVm.js";import{u as A,l as v,g as re}from"./vue_reactivity-BF73Jxev.js";import{p as x,K as se,q as le,L as T}from"./vue_shared-C7soI7TJ.js";import{u as ae}from"./vueuse_core-DljxL0Ld.js";import{Q as ie}from"./qrcode-9ot_T-Z6.js";import"./popperjs_core-DC5wud4b.js";import"./flowbite-datepicker-BdtIV8Rz.js";import"./vueuse_shared-198Hpf5H.js";import"./dijkstrajs-B-FHFk8B.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const ue=k({__name:"App",setup(n){return M(()=>{Q()}),(e,t)=>(u(),U(A(G)))}}),O=(n,e)=>{const t=n.__vccOpts||n;for(const[a,s]of e)t[a]=s;return t},de={},ce={class:"center h-dvh w-dvw font-mono"},fe={class:"bg--0 flex flex-col items-center rounded-3xl p-10"};function me(n,e){const t=z("router-link");return u(),f("div",ce,[l("div",fe,[e[1]||(e[1]=l("h1",{class:"text-9xl"},"Xin chào",-1)),c(t,{class:"link w-fit font-sans",to:"/qr-contact"},{default:w(()=>[...e[0]||(e[0]=[L("Tạo mã QR lưu danh bạ",-1)])]),_:1})])])}const pe=O(de,[["render",me]]),he={},ge={class:"center h-dvh w-dvw font-mono"},ye={class:"bg--0 flex flex-row items-center rounded-3xl p-10"},ve={class:"flex flex-col"};function be(n,e){const t=z("router-link");return u(),f("div",ge,[l("div",ye,[e[2]||(e[2]=l("h1",{class:"text-9xl"},"404!",-1)),l("div",ve,[e[1]||(e[1]=l("a",null,"Trang này chưa tồn tại hoặc có thể đã bị xóa.",-1)),c(t,{class:"link w-fit font-sans",to:"/"},{default:w(()=>[...e[0]||(e[0]=[L("Về trang chủ",-1)])]),_:1})])])])}const we=O(he,[["render",be]]),xe={class:"p-1"},ke=["type"],P=k({__name:"Button",props:{type:{type:String,default:"button"},theme:{type:String,default:"primary"},buttonRef:{type:Function,required:!1},to:{type:String,required:!1}},setup(n){return(e,t)=>(u(),f("div",xe,[n.type!=="link"?(u(),f("button",{key:0,title:"",ref:n.buttonRef,type:n.type,class:x(["w-full rounded-lg px-5 py-2.5 text-center text-sm font-medium",{"text--primary bg--primary hover:text--secondary hover:bg--secondary":n.theme=="primary","text--tertiary hover:bg--tertiary hover:-text--2":n.theme=="secondary"}])},[R(e.$slots,"default")],10,ke)):$("",!0),n.type==="link"?(u(),f("a",{key:1,class:"link",href:"#",onClick:t[0]||(t[0]=a=>n.to?e.$router.push({name:n.to}):"")},[R(e.$slots,"default")])):$("",!0)]))}});function D(n){return e=>{n.value=e}}function $e(){return new Promise(n=>{document.readyState==="complete"?n():window.addEventListener("load",()=>n(),{once:!0})})}function F(n){return new Promise(e=>setTimeout(e,n))}function j(n){const e=[];for(const t of n)if(t.key==="_content"&&t.children&&Array.isArray(t.children))e.push(...j(t.children));else{const a={...t};t.children&&Array.isArray(t.children)&&(a.children=j(t.children)),e.push(a)}return e}const _e=k({inheritAttrs:!1,setup({},{slots:n,attrs:e}){return()=>j(n.default?.()).map(t=>J("div",{class:["bg--0","h-fit","flex",e.class]},[t]))}}),Ce=k({__name:"LoadingDiv",setup(n,{expose:e}){const t=v(!1);function a(){t.value=!t.value}return e({toggleHidden:a}),(s,o)=>(u(),f("div",{class:x(["h-full w-full bg-white dark:bg-black",{hidden:t.value}])},[...o[0]||(o[0]=[l("div",{class:"h-full w-full animate-pulse bg-black/10 dark:bg-white/10"},null,-1)])],2))}}),Ee={key:0,class:"[&>*]:z-[45]"},Ve={key:1,class:"[&>*]:absolute [&>*]:z-[45]"},Le=k({__name:"Carousel",props:{isCycle:{type:Boolean,default:!1},overflowing:{type:Boolean,default:!1},duration:{type:Number,default:500},cycleDuration:{type:Number,default:3e3},indicator:{type:Object,default:{activeClasses:"bg-white dark:bg-white/80",inactiveClasses:"bg-white/50 dark:bg-white/40 hover:bg-white/90 dark:hover:bg-white/70"}},indicatorsLocation:{type:[String,Object,Array],default:"bottom-5 left-1/2 -translate-x-1/2"}},setup(n){const e=v(),t=v(),a=v(),s=v(),o=v(),r=D(s),i=D(o),b=v(),h=v(0),m=v(),_=B(()=>h.value==1),C=B(()=>h.value==t.value?.childElementCount),g=n;class N extends K{async _rotate(d){Object.values(d).forEach(E=>{E.el.classList.remove("hidden")}),await F(1),super._rotate(d),h.value=d.middle.position+1,m.value=d.middle.el,await F(g.duration),d.left.el.classList.add("hidden"),d.right.el.classList.add("hidden")}}return M(async()=>{const p=Array.from(t.value.children).map((y,q)=>({position:q,el:y})),d=p.map(()=>{const y=document.createElement("button");return y.className="h-3 w-3 rounded-full",y.type="button",y.title="",a.value?.append(y),y}),E={defaultPosition:0,interval:g.cycleDuration,indicators:{...g.indicator,items:Array.from(d).map((y,q)=>({position:q,el:y}))}};Z(ae(m).height,y=>{e.value.style.height=t.value.style.height=y.toString()+"px"}),await $e();const S=new N(e.value,p,E,{});g.isCycle&&S.cycle(),o.value?.addEventListener("click",()=>{(!_.value||g.overflowing||g.isCycle)&&S.prev()}),s.value?.addEventListener("click",()=>{(!C.value||g.overflowing||g.isCycle)&&S.next()}),b.value?.toggleHidden()}),(p,d)=>(u(),f("div",{ref_key:"carouselElement",ref:e,class:"relative w-full",style:le({"--duration":n.duration+"ms"})},[c(Ce,{ref_key:"loadingDiv",ref:b,class:"absolute z-40"},null,512),l("div",{ref_key:"carouselWrapper",ref:t,class:"relative h-56 overflow-hidden [&>*]:absolute! [&>*]:w-full [&>*]:duration-(--duration) [&>*]:ease-in-out"},[c(_e,se(ee(p.$attrs)),{default:w(()=>[R(p.$slots,"content")]),_:3},16)],512),l("div",{class:x([[n.indicatorsLocation],"absolute z-50 flex space-x-3"]),ref_key:"carouselIndicatorsWrapper",ref:a},null,2),p.$slots.buttons?$("",!0):(u(),f("div",Ee,[l("button",{title:"previous",ref_key:"carouselPrevious",ref:o,type:"button",class:x(["group absolute top-0 left-0 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none",{hidden:!n.overflowing&&!n.isCycle&&_.value}])},[...d[0]||(d[0]=[l("span",{class:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"},[l("svg",{class:"h-4 w-4 text-white dark:text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[l("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 1 1 5l4 4"})])],-1)])],2),l("button",{title:"next",ref_key:"carouselNext",ref:s,type:"button",class:x(["group absolute top-0 right-0 flex h-full cursor-pointer items-center justify-center px-4 focus:outline-none",{hidden:!n.overflowing&&!n.isCycle&&C.value}])},[...d[1]||(d[1]=[l("span",{class:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none dark:bg-gray-800/30 dark:group-hover:bg-gray-800/60 dark:group-focus:ring-gray-800/70"},[l("svg",{class:"h-4 w-4 text-white dark:text-gray-800","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},[l("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m1 9 4-4-4-4"})])],-1)])],2)])),p.$slots.buttons?(u(),f("div",Ve,[R(p.$slots,"buttons",{next:A(r),previous:A(i),isEnd:C.value,isStart:_.value})])):$("",!0)],4))}}),Re={class:"center h-dvh"},Ne={class:"bg--0 tablet:w-lg desktop:w-4xl desktop:min-h-auto tablet:min-h-auto flex h-fit min-h-dvh w-dvw items-center rounded-lg p-8"},Se={key:0,class:"text-3xl font-medium"},qe={class:"desktop:w-md w-full space-y-6"},Pe=k({__name:"FormContainer",props:{title:{},buttonHandler:{type:Function}},setup(n){return(e,t)=>(u(),f("div",Re,[l("div",Ne,[l("form",{class:"desktop:flex-row desktop:justify-between flex size-full flex-col justify-center-safe space-y-6",onSubmit:t[0]||(t[0]=H((...a)=>e.buttonHandler&&e.buttonHandler(...a),["prevent"]))},[e.title?(u(),f("h5",Se,T(e.title),1)):$("",!0),l("div",qe,[R(e.$slots,"default")])],32)])]))}}),Ae=k({props:{name:{type:String,required:!0}}}),je={class:"material-symbols-outlined aspect-square"};function Te(n,e,t,a,s,o){return u(),f("span",je,T(n.name),1)}const Oe=O(Ae,[["render",Te]]),Be={class:"text--primary bg--0 flex w-full flex-col p-1"},De={class:"bg--0 z-1 -mb-2 ml-2 block w-fit text-sm font-medium"},Fe={class:"relative z-0"},Me={key:0,class:"pointer-events-none absolute inset-y-0 start-0 flex items-center px-[9px]"},Ue=["type","disabled","placeholder"],V=k({__name:"TextInput",props:te({name:{type:String,required:!0},type:{type:String,default:"text"},icon:{type:String,required:!1},placeholder:{type:String,required:!1},disable:{type:Boolean,required:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const e=ne(n,"modelValue");return(t,a)=>(u(),f("div",Be,[l("label",De,T(n.name),1),l("div",Fe,[n.icon?(u(),f("div",Me,[c(Oe,{name:n.icon.toLowerCase()},null,8,["name"])])):$("",!0),oe(l("input",{title:"","onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),class:x(["border--primary bg--0 text--0 w-full rounded-lg border p-2.5",{"ps-10!":n.icon}]),type:n.type,disabled:n.disable,placeholder:n.placeholder},null,10,Ue),[[I,e.value]])])]))}}),ze={class:"right-0 -bottom-15 flex h-8 w-fit items-center justify-center [&>*]:ml-2"},He={class:"w-full space-y-6"},Ie={class:"w-full justify-center px-16"},We=["src"],Qe=k({__name:"QrGenerator",setup(n){const e=v(""),t=re({name:"",email:"",phone:"",address:"",url:""}),a=async()=>{const o=new Image;o.crossOrigin="Anonymous",o.onload=()=>{const r=document.createElement("canvas"),i=r.getContext("2d");r.width=o.width,r.height=o.height,i&&(i.drawImage(o,0,0),r.toBlob(b=>{if(!b)return;const h=URL.createObjectURL(b),m=document.createElement("a");m.href=h,m.download=t.name+".png",document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(h)},"image/png"))},o.src=e.value},s=async()=>{function o(){const{name:b,phone:h,email:m,address:_,url:C}=t,g=b,N="",p="",d=[g,N,p,"",""].join(";"),E=`${g} ${p} ${N}`.trim();return{qrContact:`
BEGIN:VCARD
VERSION:3.0
N:${d}
FN:${E}
TEL;TYPE=cell:${h}
EMAIL;INTERNET;PREF:${m}
ADR;TYPE=WORK;PREF=1;LABEL="":;Phòng ${_};Trường Đại học Tôn Đức Thắng;;;;
URL:${C}
END:VCARD
  `.trim(),qrPhone:`MECARD:TEL:${h};;`}}const{qrContact:r}=o(),i={margin:5,width:512};e.value=await ie.toDataURL(r,i)};return(o,r)=>(u(),U(Pe,{"button-handler":s,title:"Tạo QR lưu danh bạ"},{default:w(()=>[c(Le,{"indicators-location":"-bottom-15 p-1 hidden",indicator:{activeClasses:"bg-light-primary/90",inactiveClasses:"bg-light-primary/50 hover:bg-light-primary/70"},class:"mb-20 min-h-30"},{buttons:w(({next:i,isEnd:b,previous:h,isStart:m})=>[l("div",ze,[c(P,{"button-ref":h,theme:"secondary",class:x({hidden:m})},{default:w(()=>[...r[5]||(r[5]=[L(" Trở về ",-1)])]),_:1},8,["button-ref","class"]),c(P,{"button-ref":i,class:x({hidden:b}),onclick:s},{default:w(()=>[...r[6]||(r[6]=[L(" Hoàn tất ",-1)])]),_:1},8,["button-ref","class"]),c(P,{class:x({hidden:m}),onclick:a},{default:w(()=>[...r[7]||(r[7]=[L(" Tải ảnh ",-1)])]),_:1},8,["class"])])]),content:w(()=>[l("div",He,[c(V,{name:"Họ và tên",modelValue:t.name,"onUpdate:modelValue":r[0]||(r[0]=i=>t.name=i)},null,8,["modelValue"]),c(V,{name:"Số điện thoại",modelValue:t.phone,"onUpdate:modelValue":r[1]||(r[1]=i=>t.phone=i)},null,8,["modelValue"]),c(V,{name:"Địa chỉ thư điện tử",modelValue:t.email,"onUpdate:modelValue":r[2]||(r[2]=i=>t.email=i)},null,8,["modelValue"]),c(V,{name:"Số phòng",modelValue:t.address,"onUpdate:modelValue":r[3]||(r[3]=i=>t.address=i)},null,8,["modelValue"]),c(V,{name:"Link url fanpage",modelValue:t.url,"onUpdate:modelValue":r[4]||(r[4]=i=>t.url=i)},null,8,["modelValue"])]),l("div",Ie,[l("img",{src:e.value,alt:""},null,8,We)])]),_:1})]),_:1}))}}),Ke=Y({history:X("/qrcodegen/"),routes:[{path:"/",component:pe},{path:"/qr-contact",component:Qe},{path:"/:pathMatch(.*)*",component:we}]});W(ue).use(Ke).mount("#app");
